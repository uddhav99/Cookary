<!DOCTYPE html>
<html>
  <head>
    <title>Your Recipes</title>
    <script src="https://unpkg.com/vue"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Caveat&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@300&display=swap" rel="stylesheet">
  </head>
  <body>
    <!-- demo root element --!>
    <div id="demo">
      <!-- logo and back button --!>
      <div class="row">
        <div class="ml-5 col-sm-1">
          <a href="add_filters.html"><img src="images/back.png" class="img-fluid back"></a>
        </div>
        <div class="col-sm-2">
          <a href="front_page.html"><img src="images/CookaryLogo.png" class="img-fluid"></a>
        </div>
      </div>

      <!-- header --!>
      <div class="jumbotron header">
          <h1>Your Recipes</h1>      
      </div>

      <!-- options --!>
      <div class="row recipe_entry" style="text-align:center;" v-for="recipe in recipes">
        <div class="col-sm-2"></div> <!-- blank --!>
        <div class="col-sm">
            <a :href="recipe.url" target="_blank">
              <h1 class = "h1">{{ recipe.title }} </h1>
              <img :src="recipe.img" class="img-fluid" style="width:50%; height:100%;">
            </a>
        </div>
        <div class="col-sm-2"></div> <!-- blank --!>
      </div>
    </div>

    <script>
      // bootstrap the demo
      var demo = new Vue({
        el: "#demo",
        data: {
          searchQuery: "",
          recipes : [],
        },
      });

      // Load recipe list.
      var recipe_list = JSON.parse(localStorage.getItem('RECIPE_LIST'));
      localStorage.removeItem('RECIPE_LIST'); // Clear the localStorage
      for(const index in recipe_list)
      {
          recipe = recipe_list[index];
          demo.recipes.push({"img": recipe.image, "title": recipe.title, "url": recipe.sourceUrl});
      }
    </script>

    <!-- Jquery and bootstrap --!>
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>

  </body>
</html>

